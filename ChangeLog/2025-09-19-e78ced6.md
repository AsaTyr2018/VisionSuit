# Change Report – 2025-09-19

## Commit
- Hash: `e78ced6`
- Message: Refactor storage to use ID mapped objects

## Übersicht
- MinIO-Downloads laufen nun ausschließlich über Objekt-IDs; eine neue Tabelle `StorageObject` übernimmt die Namensauflösung und Metadatenpflege.
- Uploads vergeben für jede Datei eindeutige UUIDs, speichern diese als S3-Key und legen begleitende StorageObject-Einträge an.
- Seeds & Migrationen wurden erweitert, damit Demo-Daten und künftige Deployments automatisch gültige StorageObject-Datensätze erzeugen.
- README aktualisiert: Dokumentation des ID-basierten Storage-Proxys, neue API-Signatur und Beschreibung der Datenbankrolle von `StorageObject`.

## Technische Details
- Prisma-Migration `20250919120710_storage_object_ids` erstellt die Tabelle samt Unique-Index auf (`bucket`, `objectName`).
- Storage-Router löst `/:bucket/:objectId`-Requests über Prisma auf, setzt Content-Disposition anhand des Originalnamens und nutzt persistierte Größen & MIME-Typen.
- Upload-Pipeline schreibt `StorageObject`-Datensätze innerhalb der bestehenden Transaktion und legt UploadDraft-JSON mit referenzierten IDs ab.
